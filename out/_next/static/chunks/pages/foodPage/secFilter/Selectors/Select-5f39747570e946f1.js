(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7212],{1333:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/foodPage/secFilter/Selectors/Select",function(){return l(6959)}])},6959:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return C}});var t=l(4051),r=l.n(t),o=l(5893),a=l(6552),c=l.n(a),s=l(5675),i=l.n(s),u=l(7294),d={src:"/_next/static/media/Search.22aaef8c.svg",height:18,width:17},_=l(9321),f=l(9669),h=l.n(f),p=l(2063);function g(e,n,l,t,r,o,a){try{var c=e[o](a),s=c.value}catch(i){return void l(i)}c.done?n(s):Promise.resolve(s).then(t,r)}function m(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function v(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{},t=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),t.forEach((function(n){m(e,n,l[n])}))}return e}var C=function(){var e=(0,_.I)(),n=e.GetFoodCategory,l=e.foodCategoryData,t=e.HOST_API,a=e.searchFoodResult,s=e.SetSearchFoodResult,f=e.activeCategoryNameFood,m=e.SetActiveCategoryNameFood,C=e.searchInputValueFood,w=e.SetSearchInputValueFood,j=e.lang,y=(0,u.useState)(!1),x=y[0],S=y[1],D=(0,u.useState)(!1),A=D[0],N=D[1],I=(0,u.useState)({category:null,floor:null,search:null}),b=I[0],F=I[1],P=(0,u.useState)(""),k=P[0],O=P[1];(0,u.useEffect)((function(){return n(),0==a.initialData&&E(null,null,null),function(){O(""),E(null,null,null),m("")}}),[]);var E=function(){var e,n=(e=r().mark((function e(n,l,o){var a,c,i,u=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>3&&void 0!==u[3]&&u[3],c=new Object,null!=n?(c.category=n,F(v({},b,{category:n}))):null!=(null===b||void 0===b?void 0:b.category)&&null==n&&1!=a&&(c.category=b.category),null!=l&&(c.floor=l,F(v({},b,{floor:l}))),null!=o&&(F(v({},b,{search:o})),c.search="".concat(o)),e.prev=5,e.next=8,h()({url:t+"food",method:"POST",headers:{"content-type":"application/json"},data:JSON.stringify(c)});case 8:i=e.sent,console.log(i),i.data.length&&200==i.status?s({data:i.data,loading:!0}):0==i.data.length&&200==i.status&&s({data:[],loading:!0}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})),function(){var n=this,l=arguments;return new Promise((function(t,r){var o=e.apply(n,l);function a(e){g(o,t,r,a,c,"next",e)}function c(e){g(o,t,r,a,c,"throw",e)}a(void 0)}))});return function(e,l,t){return n.apply(this,arguments)}}(),M=function(e){E(null,e,null),N(!1),w(""),O(e),(1==e||2==e||-1==e)&&O(p.I.MallMapPageFloor[j]+" "+e)},T=function(){S(!1),N(!1)};return(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:c().selectsContainer,children:[(0,o.jsxs)("div",{className:c().selectsContainerLeft,children:[(0,o.jsxs)("div",{className:c().select,tabIndex:1,onBlur:T,children:[(0,o.jsxs)("div",{className:c().forSelect,onClick:function(){S(!x),N(!1)},children:[(0,o.jsx)("div",{className:c().allCategory,children:""==f?"".concat(p.I.ShopPageAllCategory[j]):f}),(0,o.jsx)("div",{className:x?c().uArr:c().dArr,children:(0,o.jsx)("img",{alt:"arrow",src:"/img/map/secSelect/dArr.svg"})})]}),(0,o.jsxs)("div",{className:x?c().dropDown:c().dropDownNo,children:[(0,o.jsx)("div",{className:c().AllCaregoriesItem,onClick:function(){E(null,null,null,!0),O(""),m(""),w(""),S(!1),F({category:null,floor:null,search:null})},children:p.I.ShopPageAllCategory[j]}),l.loading&&l.data.map((function(e){return(0,o.jsx)("div",{className:c().miniSelect,onClick:function(){return function(e){E("".concat(e.id),null,null),m("en"==j?e.name:"ru"==j?e.name_ru:e.name_am),S(!1)}(e)},children:(0,o.jsx)("p",{className:c().miniTitle,children:"en"==j?e.name:"ru"==j?e.name_ru:e.name_am})},e.id)}))]})]}),(0,o.jsxs)("div",{tabIndex:0,onBlur:T,children:[(0,o.jsxs)("div",{className:c().floor,onClick:function(){N(!A),S(!1)},children:[(0,o.jsx)("div",{className:c().allFloors,children:""==k||null==k?"".concat(p.I.ShopPageAllFloors[j]):k}),(0,o.jsx)("div",{className:A?c().upArr:c().dArr,children:(0,o.jsx)("img",{alt:"arrow",src:"/img/map/secSelect/dArr.svg"})})]}),(0,o.jsxs)("div",{className:A?c().floorDropDown:c().floorDropDownClose,children:[(0,o.jsx)("div",{onClick:function(){return M(null)},children:p.I.ShopPageAllFloors[j]}),(0,o.jsxs)("div",{onClick:function(){return M(1)},children:[p.I.MallMapPageFloor[j]," 1"]}),(0,o.jsxs)("div",{onClick:function(){return M(2)},children:[p.I.MallMapPageFloor[j]," 2"]})]})]})]}),(0,o.jsxs)("div",{className:c().selectsContainerRight,children:[(0,o.jsx)("input",{className:c().input,type:"text",value:C,placeholder:p.I.ShopPageInput[j],onKeyUp:function(e){var n;n=e.target.value,setTimeout((function(){E(null,null,n)}),2e3)},onChange:function(e){return w(e.target.value)}}),(0,o.jsx)("div",{className:c().searchIcon,children:(0,o.jsx)(i(),{alt:"search",src:d,width:16.5,height:17.5})})]})]})})}},6552:function(e){e.exports={selectsContainer:"select_selectsContainer__DeCGI",selectsContainerLeft:"select_selectsContainerLeft__mIeDC",forSelect:"select_forSelect__Q8lMe",allCategory:"select_allCategory__yKjWw",dArr:"select_dArr__gj1bp",uArr:"select_uArr__T7EEK",dropDownNo:"select_dropDownNo__FcjvX",dropDown:"select_dropDown__9amGp",miniSelect:"select_miniSelect__uet8D",AllCaregoriesItem:"select_AllCaregoriesItem__XccnX",miniTitle:"select_miniTitle__7FSBs",miniDropDownClose:"select_miniDropDownClose__hvKIk",miniDropDown:"select_miniDropDown__hHUBi",lArr:"select_lArr__zmpVm",downArr:"select_downArr__KEAc6",ShowAllCategory:"select_ShowAllCategory__FpMS9",subCategory:"select_subCategory__YqQB1",floor:"select_floor__r_jeA",allFloors:"select_allFloors__jDIIn",upArr:"select_upArr__DwMgv",floorDropDown:"select_floorDropDown__Mm8xK",floorDropDownClose:"select_floorDropDownClose__k1Xpq",selectsContainerRight:"select_selectsContainerRight__vZbSU",input:"select_input__vqVEf",searchIcon:"select_searchIcon__N0dip"}}},function(e){e.O(0,[9774,2888,179],(function(){return n=1333,e(e.s=n);var n}));var n=e.O();_N_E=n}]);