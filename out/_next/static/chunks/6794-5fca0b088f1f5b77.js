(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6794],{6794:function(e,n,r){"use strict";r.r(n);var l=r(4051),t=r.n(l),o=r(5893),a=r(1949),s=r.n(a),c=r(7294),i=r(9321),u=r(9669),d=r.n(u),_=r(2063),f=r(5675),m=r.n(f);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,l=new Array(n);r<n;r++)l[r]=e[r];return l}function p(e,n,r,l,t,o,a){try{var s=e[o](a),c=s.value}catch(i){return void r(i)}s.done?n(c):Promise.resolve(c).then(l,t)}function g(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function v(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},l=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),l.forEach((function(n){g(e,n,r[n])}))}return e}function y(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return h(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.default=function(){var e=(0,i.I)(),n=e.GetCategory,r=e.shopCategoryData,l=e.HOST_API,a=e.setSearchResult,u=e.searchResult,f=e.activeCategoryName,h=e.SetActiveCategoryName,g=e.searchInputValue,j=e.SetSearchInputValue,x=e.lang,C=(0,c.useState)([]),w=C[0],A=C[1],S=(0,c.useState)(null),b=S[0],D=S[1],N=(0,c.useState)(""),I=N[0],O=N[1],P=(0,c.useState)({category:null,floor:null,search:null}),k=P[0],F=P[1],M=(0,c.useState)(""),E=M[0],T=M[1];(0,c.useEffect)((function(){return n(),0==u.initialData&&Q(null,null,null),function(){F(null,null,null),O(""),D(null),A([]),Q(null,null,null),h(""),T(" ")}}),[]),(0,c.useEffect)((function(){}),[r.loading]);var R=(0,c.useState)(!1),L=R[0],V=R[1],B=(0,c.useState)(!1),H=B[0],G=B[1],K=function(){V(!1),G(!1)},Q=function(){var e,n=(e=t().mark((function e(n,r,o){var s,c,i,u=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>3&&void 0!==u[3]&&u[3],c=new Object,null!=n?(F(v({},k,{category:n})),c.category=n):null!=(null===k||void 0===k?void 0:k.category)&&null==n&&1!=s&&(c.category=k.category),null!==r&&(F(v({},k,{floor:r})),c.floor="".concat(r)),null!=o&&(F(v({},k,{search:o})),c.search="".concat(o)),e.prev=5,e.next=8,d()({url:l+"shops",method:"POST",data:JSON.stringify(c),headers:{"content-type":"application/json",Accept:"application/json"}});case 8:(i=e.sent).data&&200==i.status&&a({data:y(i.data),loading:!0}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})),function(){var n=this,r=arguments;return new Promise((function(l,t){var o=e.apply(n,r);function a(e){p(o,l,t,a,s,"next",e)}function s(e){p(o,l,t,a,s,"throw",e)}a(void 0)}))});return function(e,r,l){return n.apply(this,arguments)}}(),U=function(e){Q(null,e,null),G(!1),j(""),O(e),(1==e||2==e)&&O(_.I.MallMapPageFloor[x]+" "+e)};return(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:s().selectsContainer,children:[(0,o.jsxs)("div",{className:s().selectsContainerLeft,children:[(0,o.jsxs)("div",{className:s().select,tabIndex:0,onBlur:K,children:[(0,o.jsxs)("div",{className:s().forSelect,onClick:function(){V(!L),G(!1)},children:[(0,o.jsx)("div",{className:s().allCategory,children:""==f?"".concat(_.I.ShopPageAllCategory[x]):f+" "+E}),(0,o.jsx)("div",{className:L?s().uArr:s().dArr,children:(0,o.jsx)("img",{alt:"arrow",src:"/img/map/secSelect/dArr.svg"})})]}),(0,o.jsxs)("div",{className:L?s().dropDown:s().dropDownNo,children:[(0,o.jsx)("div",{className:s().AllCaregoriesItem,onClick:function(){Q(null,null,null,!0),O(""),h(""),F({category:null,floor:null,search:null}),V(!1),j(""),D(null)},children:_.I.ShopPageAllCategory[x]}),r.loading&&r.data.map((function(e){var n;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:s().categories,onClick:function(){var n;!function(e){b==e.id?(h("en"==x?e.name:"ru"==x?e.name_ru:e.name_am),A([]),D(null),T(" ")):(h("en"==x?e.name:"ru"==x?e.name_ru:e.name_am),Q("".concat(e.id),null,null),D(e.id),A(e.sub_category),j(""),T(" "))}(e),(null===(n=e.sub_category)||void 0===n?void 0:n.length)||V(!1)},children:(0,o.jsxs)("div",{className:s().miniSelect,children:[(null===(n=e.sub_category)||void 0===n?void 0:n.length)?(0,o.jsx)("div",{className:b==e.id?s().downArr:s().lArr,children:(0,o.jsx)("img",{alt:"arrow",src:"/img/shopPage/secFilter/lArr.svg"})}):null,(0,o.jsx)("p",{className:s().miniTitle,children:"en"==x?e.name:"ru"==x?e.name_ru:e.name_am})]})},e.id),b==e.id&&(null===w||void 0===w?void 0:w.map((function(e){var n;return(0,o.jsx)("div",{onClick:function(){Q("".concat(e.id),null,null),V(!1),T("en"==x?e.name:"ru"==x?e.name_ru:e.name_am)},children:(0,o.jsxs)("div",{className:s().miniDropDown,children:[(null===(n=e.sub_category)||void 0===n?void 0:n.length)?(0,o.jsx)("div",{children:(0,o.jsx)("img",{alt:"arrow",src:"/img/shopPage/secFilter/lArr.svg"})}):null,(0,o.jsx)("p",{className:s().subCategory,children:"en"==x?e.name:"ru"==x?e.name_ru:e.name_am})]})},e.id)})))]})}))]})]}),(0,o.jsxs)("div",{tabIndex:0,onBlur:K,children:[(0,o.jsxs)("div",{className:s().floor,onClick:function(){G(!H),V(!1)},children:[(0,o.jsx)("div",{className:s().allFloors,children:""==I||null==I?"".concat(_.I.ShopPageAllFloors[x]):I}),(0,o.jsx)("div",{className:H?s().upArr:s().dArr,children:(0,o.jsx)("img",{alt:"arrow",src:"/img/map/secSelect/dArr.svg"})})]}),(0,o.jsxs)("div",{className:H?s().floorDropDown:s().floorDropDownClose,children:[(0,o.jsx)("div",{onClick:function(){return U(null)},children:_.I.ShopPageAllFloors[x]}),(0,o.jsxs)("div",{onClick:function(){return U(1)},children:[_.I.MallMapPageFloor[x]," 1"]}),(0,o.jsxs)("div",{onClick:function(){return U(2)},children:[_.I.MallMapPageFloor[x]," 2"]})]})]})]}),(0,o.jsxs)("div",{className:s().selectsContainerRight,children:[(0,o.jsx)("input",{className:s().input,type:"text",value:g,placeholder:_.I.ShopPageInput[x],onKeyUp:function(e){var n;n=e.target.value,setTimeout((function(){Q(null,null,n)}),1e3)},onChange:function(e){return j(e.target.value)}}),(0,o.jsx)("div",{className:s().searchIcon,children:(0,o.jsx)(m(),{alt:"search",src:"/img/shopPage/secFilter/Search.svg",width:16.5,height:17.5})})]})]})})}},1949:function(e){e.exports={selectsContainer:"select_selectsContainer__bOR36",selectsContainerLeft:"select_selectsContainerLeft__vlfNn",forSelect:"select_forSelect__y_O_K",allCategory:"select_allCategory__ikA4Q",dArr:"select_dArr__DFDSH",uArr:"select_uArr__BOKYg",dropDownNo:"select_dropDownNo__OsVtN",dropDown:"select_dropDown__7hVMk",miniSelect:"select_miniSelect__diO_A",miniTitle:"select_miniTitle__34n0b",AllCaregoriesItem:"select_AllCaregoriesItem__P9oMv",miniDropDownClose:"select_miniDropDownClose__xsbVk",miniDropDown:"select_miniDropDown__pbxSd",lArr:"select_lArr__GDxro",downArr:"select_downArr__2WGTO",ShowAllCategory:"select_ShowAllCategory__ObDSO",subCategory:"select_subCategory__PafOl",floor:"select_floor__Ectpt",allFloors:"select_allFloors__4rfZL",upArr:"select_upArr__i7QRB",floorDropDown:"select_floorDropDown__Hc3X_",floorDropDownClose:"select_floorDropDownClose__JLqhf",selectsContainerRight:"select_selectsContainerRight__7U4YQ",input:"select_input__wcHkd",searchIcon:"select_searchIcon__i1Epz"}}}]);